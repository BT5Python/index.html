<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PUSLAT KODIKLATAU - PDF DATABASE</title>
<style>
body {
  background-color: black;
  color: #00ff00;
  font-family: "times new roman", monospace;
  padding: 20px;
}
h1 {
  text-align: center;
  color: #00ff00;
}
.folder, .file {
  margin-left: 15px;
  border-left: 1px solid #00ff00;
  padding-left: 10px;
}
.folder-name {
  cursor: pointer;
  color: #00ff00;
  font-size: 15px; /* kecil */
  font-weight: normal; /* tidak bold */
}
.folder-name:hover {
  color: #33ff33;
}
.file-item {
  margin: 4px 0;
  font-size: 13px; /* ukuran file sedikit lebih kecil juga agar seragam */
}
button {
  background: #00ff00;
  border: none;
  padding: 2px 8px;
  color: black;
  cursor: pointer;
  margin-left: 8px;
  border-radius: 4px;
}
button:hover {
  background: #33ff33;
}
</style>
</head>
<body>
  <h1>REKAMAN DATA BERITA RADIOGRAM</h1>
  <h1>TAHUN 2025</h1>
  <div id="content">Memuat struktur folder...</div>

  <script>
  const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw5lPPY276MQ7fJPLnpE4h-FsIWdmDB2f6p2rlySsEWfzxf1d1xMHQL0F0Qw53L_bZvnw/exec'; // Ganti URL kamu

  fetch(SCRIPT_URL)
    .then(r => r.json())
    .then(data => displayStructure(data))
    .catch(err => {
      document.getElementById('content').innerHTML = `<b style="color:red">Gagal memuat data</b><br>${err}`;
    });

  function displayStructure(data) {
    document.getElementById('content').innerHTML = renderFolder(data);
  }

  function renderFolder(folder) {
    let html = `<div class="folder"><div class="folder-name" onclick="toggleFolder(this)">üìÅ ${folder.name}</div>`;
    html += `<div class="children" style="display:none;">`;
    folder.children.forEach(item => {
      if (item.type === 'folder') {
        html += renderFolder(item);
      } else {
        html += `
          <div class="file-item">
            üìÑ ${item.name}
            <button onclick="window.open('${item.url}', '_blank')">Lihat</button>
            <button onclick="downloadFile('${item.url}')">Unduh</button>
            <div style="font-size:11px; color:#66ff66;">${item.date} | ${item.size}</div>
          </div>
        `;
      }
    });
    html += `</div></div>`;
    return html;
  }

  function toggleFolder(el) {
    const content = el.nextElementSibling;
    content.style.display = content.style.display === 'none' ? 'block' : 'none';
  }

  function downloadFile(url) {
    window.open(url + '?export=download', '_blank');
  }
  </script>
</body>
</html>
