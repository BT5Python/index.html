<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PUSLAT KODIKLATAU - Intelligence Database</title>
<style>
body {
    font-family: 'Courier New', monospace;
    background-color: black;
    color: #00FF00;
    margin: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
}
header {
    background-color: black;
    color: #00FF00;
    padding: 20px;
    text-align: center;
}
.text { font-size: 75px; }
.text1 { font-size: 30px; }

.main-container {
    display: flex;
    flex: 1;
    border-top: 1px solid #00FF00;
}
.search-panel {
    width: 35%;
    padding: 20px;
    display: flex;
    flex-direction: column;
    border-right: 2px solid #00FF00;
}
.search-panel h2 { text-align: center; margin-bottom: 20px; }

input {
    background: transparent;
    border: 1px solid #00FF00;
    color: #00FF00;
    padding: 10px;
    margin-bottom: 15px;
    font-size: 16px;
    border-radius: 4px;
    outline: none;
}

.info-text { font-size: 14px; text-align: center; margin-top: 10px; }

#member-buttons {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    margin-top: 10px;
}

.output-panel {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    border-left: 2px solid #00FF00;
}

.agent-profile {
    display: flex;
    gap: 20px;
    align-items: flex-start;
    flex-wrap: wrap;
}

.agent-profile pre {
    flex: 1;
    white-space: pre-wrap;
    line-height: 1.4;
}

.agent-profile img {
    width: 150px;
    height: 150px;
    object-fit: cover;
    border: 2px solid #00FF00;
    border-radius: 8px;
    display: none;
    opacity: 0;
    transition: opacity 0.6s ease-in-out;
}

.not-found { color: #FF0000; font-weight: bold; }

.agent-profile button,
#member-buttons button {
    background: transparent;
    border: 1px solid #00FF00;
    color: #00FF00;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    transition: background 0.3s, color 0.3s;
}

.agent-profile button:hover,
#member-buttons button:hover {
    background-color: #00FF00;
    color: black;
}

@media (max-width: 768px) {
    .main-container { flex-direction: column; }
    .search-panel, .output-panel { width: 100%; border: none; border-bottom: 1px solid #00FF00; }
    .agent-profile { flex-direction: column; align-items: center; }
}

/* cursor blink */
.agent-profile pre::after {
    content: "_";
    animation: blink 1s infinite;
}
@keyframes blink {
    0%, 50%, 100% { opacity: 1; }
    25%, 75% { opacity: 0; }
}
</style>
</head>
<body>
<header>
    <h1 class="text">PUSLAT KODIKLATAU</h1>
    <h1 class="text1">INTELLIGENCE DATABASE TERMINAL</h1>
</header>

<div class="main-container">
    <div class="search-panel">
        <h2>üîç Data Lookup</h2>
        <label for="search">Masukkan Keyword Unit / Nama Lengkap:</label>
        <input type="text" id="search" placeholder="Contoh: ">
        <p class="info-text">‚ö†Ô∏è Ketik keyword lalu tekan ENTER untuk menampilkan daftar anggota.</p>
        <div id="member-buttons"></div>
    </div>

    <div class="output-panel" id="output">
        <div class="agent-profile" id="agent-container">
            <pre id="agent-dossier">
‚ö†Ô∏è Biodata akan muncul setelah klik tombol anggota.
            </pre>
            <img id="agent-photo" src="" alt="Agent Photo">
        </div>
    </div>
</div>

<script>
const personnelDB = [
    // ==== 10 anggota DISPERS ====
    { nama_lengkap: "Endriady, S.H", pangkat: "Letkol Adm", nrp_nip: "522726", jabatan: "kadispers", korp_fung_spes: "Indonesia", tanggal_lahir: "Subang", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-3", satker: "DISLOG", specialization: "Cyber Recon / Counterintelligence", ops_completed: 43, success_rate: 96, photo: "danpus pdh.jpg" },
    { nama_lengkap: "Bima Pratama", pangkat: "Penata Tk.I IIId", nrp_nip: "543628", jabatan: "1980-06-15", korp_fung_spes: "Indonesia", tanggal_lahir: "Jakarta", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-2", satker: "DISPERS", specialization: "Field Ops", ops_completed: 39, success_rate: 92, photo: "kabid kl new.jpg" },
    { nama_lengkap: "Andi Darmawan, S.E", pangkat: "Penata Tk.I IIId", nrp_nip: "197905032009121002", jabatan: "Tur Adminpers Dispers", korp_fung_spes: "Adm", tanggal_lahir: "03/05/1979", tempat_lahir: "Subang", agama: "Islam", satker: "DISPERS", specialization: "Nomor Kep: 9-S/VIIIA/III/2025", ops_completed: 21/03/2025, success_rate: 7, photo: "https://i.pravatar.cc/150?img=15" },
    { nama_lengkap: "Dedi Hartono", pangkat: "Penata Tk.I IIId", nrp_nip: "4215896", jabatan: "1982-11-30", korp_fung_spes: "Indonesia", tanggal_lahir: "Surabaya", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-4", satker: "DISPERS", specialization: "Recon Ops", ops_completed: 37, success_rate: 90, photo: "https://i.pravatar.cc/150?img=16" },
    { nama_lengkap: "Erika Nurhaliza", pangkat: "Penata Tk.I IIId", nrp_nip: "124536", jabatan: "1987-07-09", korp_fung_spes: "Indonesia", tanggal_lahir: "Medan", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-5", satker: "DISPERS", specialization: "Data Analyst", ops_completed: 45, success_rate: 93, photo: "https://i.pravatar.cc/150?img=17" },
    { nama_lengkap: "Fauzan Ridho", pangkat: "Penata Tk.I IIId", nrp_nip: "125687", jabatan: "1983-04-11", korp_fung_spes: "Indonesia", tanggal_lahir: "Bogor", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-3", satker: "DISPERS", specialization: "Logistics", ops_completed: 33, success_rate: 91, photo: "https://i.pravatar.cc/150?img=18" },
    { nama_lengkap: "Gilang Setiawan", pangkat: "Penata Tk.I IIId", nrp_nip: "145268", jabatan: "1981-01-19", korp_fung_spes: "Indonesia", tanggal_lahir: "Cilacap", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-2", satker: "DISPERS", specialization: "Signal Jamming", success_rate: 88, photo: "https://i.pravatar.cc/150?img=19" },
    { nama_lengkap: "Hana Yuliana", pangkat: "Penata Tk.I IIId", nrp_nip: "154267", jabatan: "1988-10-24", korp_fung_spes: "Indonesia", tanggal_lahir: "Solo", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-2", satker: "DISPERS", specialization: "Tactical Planning", ops_completed: 40, success_rate: 94, photo: "https://i.pravatar.cc/150?img=20" },
    { nama_lengkap: "Imam Rosyid", pangkat: "Penata Tk.I IIId", nrp_nip: "152346", jabatan: "1984-02-08", korp_fung_spes: "Indonesia", tanggal_lahir: "Padang", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-3", satker: "DISPERS", specialization: "Weapon Specialist", ops_completed: 38, success_rate: 90, photo: "https://i.pravatar.cc/150?img=21" },
    { nama_lengkap: "Joko Santoso", pangkat: "Penata Tk.I IIId", nrp_nip: "114455", jabatan: "1986-09-14", korp_fung_spes: "Indonesia", tanggal_lahir: "Semarang", tempat_lahir: "Tur Adminper Dispers Puslat Kodiklatau", agama: "OMEGA-1", satker: "DISPERS", specialization: "Encryption / Decryption", ops_completed: 46, success_rate: 95, photo: "https://i.pravatar.cc/150?img=22" },

    // Tambahan unit lain
    { nama_lengkap: "VIXEN-21", pangkat: "Nadia Putri", nrp_nip: "Perempuan", jabatan: "1993-09-21", korp_fung_spes: "Indonesia", tanggal_lahir: "Bandung", tempat_lahir: "ACTIVE", agama: "ALPHA-2", satker: "DISOPS", specialization: "Undercover Ops / Infiltration", ops_completed: 58, success_rate: 89, photo: "https://i.pravatar.cc/150?img=23" }
];

const searchInput = document.getElementById("search");
const dossierEl = document.getElementById("agent-dossier");
const photoEl = document.getElementById("agent-photo");
const memberBtnContainer = document.getElementById("member-buttons");
const agentContainer = document.getElementById("agent-container");
const outputPanel = document.getElementById("output");

function typeWriter(element, text, agent, callback, speed=2){
    element.textContent = "";
    let i = 0;
    let nameShown = false;

    function typing() {
        if(i < text.length){
            element.textContent += text.charAt(i);
            if(!nameShown && element.textContent.includes("NAMA LENGKAP")){
                nameShown = true;
                setTimeout(()=>{
                    photoEl.src = agent.photo;
                    photoEl.style.display = "block";
                    setTimeout(()=> photoEl.style.opacity = 1, 100);
                }, 200);
            }
            i++;
            outputPanel.scrollTop = outputPanel.scrollHeight;
            setTimeout(typing, speed);
        } else if(callback) callback();
    }
    typing();
}

function simulateAccessSequence(element, callback){
    const steps = [
        ">>> initializing connection...",
        ">>> accessing database node...",
        ">>> verifying security clearance...",
        ">>> clearance level verified ‚úî",
        ">>> retrieving personnel data..."
    ];
    let i=0;
    element.textContent="";
    function nextStep(){
        if(i<steps.length){
            element.textContent += steps[i] + "\n";
            outputPanel.scrollTop = outputPanel.scrollHeight;
            i++;
            setTimeout(nextStep, 600);
        } else {
            setTimeout(callback, 600);
        }
    }
    nextStep();
}

function showMemberButtons(keyword){
    memberBtnContainer.innerHTML = "";
    const filtered = personnelDB.filter(p => 
        p.satker.toLowerCase().includes(keyword.toLowerCase()) ||
        p.nama_lengkap.toLowerCase().includes(keyword.toLowerCase()) ||
        (p.real_name && p.real_name.toLowerCase().includes(keyword.toLowerCase()))
    );
    if(filtered.length===0){
        memberBtnContainer.innerHTML='<span class="not-found">‚ùå Tidak ada anggota ditemukan untuk keyword ini.</span>';
    } else {
        filtered.forEach(agent=>{
            const btn = document.createElement("button");
            btn.textContent = agent.nama_lengkap;
            btn.onclick = ()=> displayAgent(agent);
            memberBtnContainer.appendChild(btn);
        });
    }
}

function displayAgent(agent){
    dossierEl.textContent = "";
    photoEl.style.display = "none";
    photoEl.style.opacity = 0;
    photoEl.src = "";
    const oldBtn = agentContainer.querySelector(".reset-btn");
    if(oldBtn) oldBtn.remove();

    simulateAccessSequence(dossierEl, ()=> {
        const dossier = `
========================================
|   FILE: PERSONEL PUSLAT KODILATAU   |
|   CLASSIFICATION: RAHASIA            |
========================================

[DATA IDENTITAS]
--------------------------------------------------
NAMA LENGKAP    : ${agent.nama_lengkap}
PANGKAT         : ${agent.pangkat}
NRP/NIP         : ${agent.nrp_nip}
JABATAN         : ${agent.jabatan}
KORP/FUNG/SPES  : ${agent.korp_fung_spes}
TANGGAL LAHIR   : ${agent.tanggal_lahir}
TEMPAT LAHIR    : ${agent.tempat_lahir}
AGAMA           : ${agent.agama}

[OPERATIONAL RECORD]
--------------------------------------------------
SATKER          : ${agent.satker}
NOMOR SKEP      : ${agent.specialization}
TMT JABATAN     : ${agent.ops_completed}
s.d SAAT INI    : ${agent.success_rate}

[SECURITY FOOTNOTE]
--------------------------------------------------
This dossier is property of puslat kodiklatau.
Unauthorized access or duplication is punishable under applicable law.

<END OF FILE>
========================================
Retrieved on: ${new Date().toLocaleString()}
        `;
        typeWriter(dossierEl, dossier, agent, ()=> {
            const backBtn = document.createElement("button");
            backBtn.className = "reset-btn";
            backBtn.textContent = "Document";
            backBtn.onclick = () => {
                window.location.href = "https://drive.google.com/file/d/1NocuG9rBdBaAGtIMUGWv4YfOMdvaHhEy/view?usp=drive_link";                 
                photoEl.style.display = "none";
                photoEl.src = "";
                photoEl.style.opacity = 0;
                backBtn.remove();
            };
            agentContainer.appendChild(backBtn);
        });
    });
}

searchInput.addEventListener("input", ()=>{
    dossierEl.textContent="Biodata will appear after clicking the member button";
    
    if(btn) btn.remove();
    memberBtnContainer.innerHTML="";
});

searchInput.addEventListener("keydown", e=>{
    if(e.key==="Enter"){
        const query = searchInput.value.trim();
        if(query) showMemberButtons(query);
    }
});
</script>
</body>
</html>
